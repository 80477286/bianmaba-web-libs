(function(n,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("axios"),require("vue")):typeof define=="function"&&define.amd?define(["exports","axios","vue"],u):(n=typeof globalThis<"u"?globalThis:n||self,u(n.index={},n.Axios,n.Vue))})(this,function(n,u,o){"use strict";var W=Object.defineProperty;var B=(n,u,o)=>u in n?W(n,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[u]=o;var l=(n,u,o)=>(B(n,typeof u!="symbol"?u+"":u,o),o);const H=Object.prototype.toString,j=(t=>e=>{let s=H.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),p=t=>(t=t.toLowerCase(),function(e){return j(e)===t}),k=t=>Array.isArray(t);p("ArrayBuffer");const U=t=>t!=null&&typeof t=="object"&&Array.isArray(t)===!1,P=t=>{if(j(t)!=="object")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.prototype};p("Date"),p("File"),p("Blob"),p("FileList"),p("URLSearchParams");const N=(t,e)=>{if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),k(t))for(let s=0,a=t.length;s<a;s++)e.call(null,t[s],s,t);else for(let s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)},D=function(...t){let e=arguments[0],s=(a,r)=>{P(e[r])&&P(a)?e[r]=D(e[r],a):P(a)?e[r]=D({},a):k(a)?e[r]=a.slice():e[r]=a};for(let a=0,r=arguments.length;a<r;a++)N(arguments[a],s);return e},i=D,A=U;class T{constructor(){l(this,"order",new g("id","asc"));l(this,"queryProperties",["id"])}}class F extends T{constructor(s=1,a=10,r=-1){super();l(this,"size",10);l(this,"page",1);l(this,"pageOffset",-1);this.page=s,this.size=a,this.pageOffset=r}setSize(s){this.size=s}setPage(s){this.page=s}setPageOffset(s){this.pageOffset=s}}class b{constructor(e,s,a){l(this,"property",null);l(this,"joinType",null);l(this,"on",null);this.property=e||this.property,this.joinType=s||this.joinType,this.on=a||this.on}of(e,s,a){return new b(e,s,a)}}class g{constructor(e,s){l(this,"property",null);l(this,"direction","asc");this.property=e,this.direction=s}of(e,s="asc"){return new g(e,s)}}class z{constructor(e,s,a){l(this,"property",null);l(this,"value",null);l(this,"opt","eq");l(this,"and",[]);l(this,"or",[]);this.property=e||this.property,this.value=s||this.value,this.opt=a||this.opt}addAnd(e){this.and.push(e)}addOr(e){this.or.push(e)}}var E=(t=>(t.Asc="asc",t.Desc="desc",t))(E||{}),G=(t=>(t.equals="equals",t.eq="eq",t.ge="ge",t.gt="gt",t.lt="lt",t.le="le",t.ne="ne",t.notlike="notlike",t.like="like",t["like:"]="like:",t[":like"]=":like",t[":like:"]=":like:",t.lk="like",t["lk:"]="like:",t[":lk"]=":like",t[":lk:"]=":like:",t.between="between",t.btw="btw",t.isnull="isnull",t.isnotnull="isnotnull",t.isempty="isempty",t.isnotempty="isnotempty",t.in="in",t.notin="notin",t))(G||{}),d=(t=>(t["application/atom+xml"]="application/atom+xml",t["application/json"]="application/json",t["application/x-www-form-urlencoded"]="application/x-www-form-urlencoded",t["application/xml"]="application/xml",t["multipart/form-data"]="multipart/form-data",t["text/html"]="text/html",t["text/plain"]="text/plain",t))(d||{}),f=(t=>(t.POST="POST",t.GET="GET",t.DELETE="DELETE",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.PUT="PUT",t.PATCH="PATCH",t.PURGE="PURGE",t.LINK="LINK",t.UNLINK="UNLINK",t))(f||{});class K{constructor(){l(this,"method",f.POST);l(this,"headers",{"Content-Type":d["application/json"]});l(this,"xRequestedWith","XMLHttpRequest")}}const L=new K,c=class{constructor(e={}){c.default=i(c.default||{},e),console.debug("初始化全局配置..."),u.defaults.baseURL=c.default.baseUrl,u.defaults.method=c.default.method||u.defaults.method,u.defaults.headers.common["X-Requested-With"]=c.default.xRequestedWith,u.interceptors.request.use(c.default.requestSuccessHandler||this.defaultRequestSuccessHandler,c.default.requestFailHandler||this.defaultRequestFailHandler),u.interceptors.response.use(c.default.responseSuccessHandler||this.defaultResponseSuccessHandler,c.default.responseFailHandler||this.defaultResponseFailHandler),console.debug("全局配置初始化完成。")}defaultRequestSuccessHandler(e){return e}defaultRequestFailHandler(e){return console.error("远程请求出现错误!"),Promise.reject(e)}defaultResponseSuccessHandler(e){return e}defaultResponseFailHandler(e){var s,a;return console.log(((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.result)||"远程请求出现错误(code="+e.response.status+")"),Promise.reject(e)}createAxiosInstance(e){let s=u.create(i(c.default||{},e));return console.log("axios instance created"),u.interceptors.request.use(c.default.requestSuccessHandler||this.defaultRequestSuccessHandler,c.default.requestFailHandler||this.defaultRequestFailHandler),u.interceptors.response.use(c.default.responseSuccessHandler||this.defaultResponseSuccessHandler,c.default.responseFailHandler||this.defaultResponseFailHandler),s}};let y=c;l(y,"default",L);class m{constructor(){l(this,"success",!1);l(this,"data",null);l(this,"errors",[]);l(this,"exception",null);l(this,"extendedData",null);l(this,"messages",[]);l(this,"result",null);l(this,"status",null)}}class Q extends m{constructor(){super(...arguments);l(this,"status",null);l(this,"total",0)}}class x{constructor(e,s){l(this,"instance");l(this,"url","");l(this,"loading",!1);l(this,"response",new m);l(this,"data",{});l(this,"params",{});l(this,"defaultResponse",new m);this.instance=e,this.url=s||this.url}execute(e={}){return new Promise((s,a)=>{this.loading=!0,A(e.data)?this.data=i(this.data||{},e.data||{}):this.data=e.data,this.params=i(this.params||{},e.params||{}),e.url=e.url?e.url:this.url,this.instance.request(e).then(r=>{try{this.handleThenResponse(s,r)}finally{this.loading=!1}}).catch(r=>{try{this.handleCatchResponse(a,r)}finally{this.loading=!1}})})}toJsonRequest(){return this.instance.defaults.headers["Content-Type"]=d["application/json"],this}toFormRequest(){return this.instance.defaults.headers["Content-Type"]=d["application/x-www-form-urlencoded"],this}toFormDataRequest(){return this.instance.defaults.headers["Content-Type"]=d["multipart/form-data"],this}setDefaultResponse(e=new m){return this.response=e,this.defaultResponse=i(this.response,{}),this}setDefaultRequestData(e={}){return this.data=i(this.data,e),this}setDefaultResultParams(e={}){return this.params=i(this.params,e),this}handleThenResponse(e,s){this.response=s.data,e(s.data)}handleCatchResponse(e,s){if(console.error("远程请求发生异常：",s),s.response)this.response=s.response.data,e(s.response.data);else{let a={success:!1,result:"远程请求发生异常！",data:null};this.response=a,e(a)}}}class v extends x{constructor(e,s){super(e,s)}execute(e={},s={}){return this.loading=!0,this.params=i(this.params||{},s.params||{},e||{}),s.params=this.params,new Promise((a,r)=>{this.instance.get(s.url||this.url,s).then(R=>{try{this.handleThenResponse(a,R)}finally{this.loading=!1}}).catch(R=>{try{this.handleCatchResponse(r,R)}finally{this.loading=!1}})})}}class I extends x{constructor(e,s){super(e,s)}execute(e={},s={},a={}){return this.loading=!0,A(e)?this.data=i(this.data||{},a.data||{},e||{}):this.data=e,this.params=i(this.params||{},a.params||{},s||{}),a.params=this.params,new Promise((r,R)=>{this.instance.post(a.url||this.url,this.data,a).then(S=>{try{this.handleThenResponse(r,S)}finally{this.loading=!1}}).catch(S=>{try{this.handleCatchResponse(R,S)}finally{this.loading=!1}})})}}class w extends I{constructor(e,s){super(e,s),this.setDefaultResponse(new m)}}const h=class extends y{constructor(e=L){super(e)}createRequestExecutor(e="",s={}){let a=this.createAxiosInstance(s);return o.reactive(new x(a,e))}createGetExecutor(e="",s={}){let a=i({method:f.GET,data:null,params:null,headers:{"Content-Type":d["application/x-www-form-urlencoded"]}},s),r=this.createAxiosInstance(a);return o.reactive(new v(r,e))}createQueryExecutor(e="",s={}){let a=i({method:f.GET,data:null,params:null,headers:{"Content-Type":d["application/x-www-form-urlencoded"]}},s),r=this.createAxiosInstance(a);return o.reactive(new w(r,e).setDefaultResponse({data:[]}).setDefaultRequestData(new T))}createPageableQueryExecutor(e="",s={}){let a=i({method:f.GET,data:null,params:null,headers:{"Content-Type":d["application/x-www-form-urlencoded"]}},s),r=this.createAxiosInstance(a);return o.reactive(new w(r,e).setDefaultResponse({data:[]}).setDefaultRequestData(new F))}createPostExecutor(e="",s={}){let a=i({method:f.POST,data:null,params:null,headers:{"Content-Type":d["multipart/form-data"]}},s),r=this.createAxiosInstance(a);return o.reactive(new I(r,e))}static getInstance(e){return this.instance?e&&console.error("实例已经存在，重获取实例时，配置选项将不会生效！"):this.instance=new h(e),this.instance}static post(){return{do(e,s={},a={},r={}){return h.getInstance().createPostExecutor(e,r).execute(s,a,r)},multipartFormData(e,s={},a={},r={}){return h.getInstance().createPostExecutor(e,r).toFormDataRequest().execute(s,a,r)},form(e,s={},a={},r={}){return h.getInstance().createPostExecutor(e,r).toFormRequest().execute(s,a,r)},json(e,s={},a={},r={}){return h.getInstance().createPostExecutor(e,r).toJsonRequest().execute(s,a,r)}}}static get(){return{do(e,s={},a={}){return h.getInstance().createGetExecutor(e,a).execute(s,a)}}}};let q=h;l(q,"instance");class J extends w{constructor(e,s){super(e,s),this.setDefaultResponse(new Q)}}n.AbstractHttpClient=y,n.Condition=z,n.DefaultPageableQueryRequestData=F,n.DefaultPageableQueryResponse=Q,n.DefaultQueryRequestData=T,n.DefaultResponse=m,n.EConditionOpt=G,n.EOrderDirection=E,n.Executor=x,n.GetExecutor=v,n.HttpClient=q,n.HttpContentType=d,n.HttpMethod=f,n.Join=b,n.Order=g,n.PageableQueryExecutor=J,n.PostExecutor=I,n.QueryExecutor=w,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
