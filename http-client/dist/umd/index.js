(function(l,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("axios"),require("vue")):typeof define=="function"&&define.amd?define(["exports","axios","vue"],u):(l=typeof globalThis<"u"?globalThis:l||self,u(l.index={},l.Axios,l.Vue))})(this,function(l,u,c){"use strict";var $=Object.defineProperty;var W=(l,u,c)=>u in l?$(l,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):l[u]=c;var n=(l,u,c)=>(W(l,typeof u!="symbol"?u+"":u,c),c);class v{constructor(e={}){n(this,"defaultAxiosInstance");this.defaultAxiosInstance=u.create(e||{}),this.defaultAxiosInstance.interceptors.response=u.interceptors.response,this.defaultAxiosInstance.interceptors.request=u.interceptors.request}}const G=Object.prototype.toString,I=(t=>e=>{let s=G.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),d=t=>(t=t.toLowerCase(),function(e){return I(e)===t}),w=t=>Array.isArray(t);d("ArrayBuffer");const z=t=>t!=null&&typeof t=="object"&&Array.isArray(t)===!1,q=t=>{if(I(t)!=="object")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.prototype};d("Date"),d("File"),d("Blob"),d("FileList"),d("URLSearchParams");const K=(t,e)=>{if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),w(t))for(let s=0,a=t.length;s<a;s++)e.call(null,t[s],s,t);else for(let s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)},S=function(...t){let e=arguments[0],s=(a,r)=>{q(e[r])&&q(a)?e[r]=S(e[r],a):q(a)?e[r]=S({},a):w(a)?e[r]=a.slice():e[r]=a};for(let a=0,r=arguments.length;a<r;a++)K(arguments[a],s);return e},o=S,O=z,J=w;class T{constructor(){n(this,"order",new g("id","ascending"));n(this,"queryProperties",["id"])}}class j extends T{constructor(s=1,a=10,r=-1){super();n(this,"size",10);n(this,"page",1);n(this,"pageOffset",-1);this.page=s,this.size=a,this.pageOffset=r}setSize(s){this.size=s}setPage(s){this.page=s}setPageOffset(s){this.pageOffset=s}}class b{constructor(e,s,a){n(this,"property",null);n(this,"joinType",null);n(this,"on",null);this.property=e||this.property,this.joinType=s||this.joinType,this.on=a||this.on}of(e,s,a){return new b(e,s,a)}}class g{constructor(e,s){n(this,"prop",null);n(this,"order","ascending");this.prop=e,this.order=s}of(e,s="asc"){return new g(e,s)}}class B{constructor(e,s,a){n(this,"property",null);n(this,"value",null);n(this,"opt","eq");n(this,"and",[]);n(this,"or",[]);this.property=e||this.property,this.value=s||this.value,this.opt=a||this.opt}addAnd(e){this.and.push(e)}addOr(e){this.or.push(e)}}var U=(t=>(t.Asc="asc",t.Desc="desc",t))(U||{}),k=(t=>(t.equals="equals",t.eq="eq",t.ge="ge",t.gt="gt",t.lt="lt",t.le="le",t.ne="ne",t.notlike="notlike",t.like="like",t["like:"]="like:",t[":like"]=":like",t[":like:"]=":like:",t.lk="like",t["lk:"]="like:",t[":lk"]=":like",t[":lk:"]=":like:",t.between="between",t.btw="btw",t.isnull="isnull",t.isnotnull="isnotnull",t.isempty="isempty",t.isnotempty="isnotempty",t.in="in",t.notin="notin",t))(k||{}),h=(t=>(t["application/atom+xml"]="application/atom+xml",t["application/json"]="application/json",t["application/x-www-form-urlencoded"]="application/x-www-form-urlencoded",t["application/xml"]="application/xml",t["multipart/form-data"]="multipart/form-data",t["text/html"]="text/html",t["text/plain"]="text/plain",t))(h||{}),p=(t=>(t.POST="POST",t.GET="GET",t.DELETE="DELETE",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.PUT="PUT",t.PATCH="PATCH",t.PURGE="PURGE",t.LINK="LINK",t.UNLINK="UNLINK",t))(p||{});class y{constructor(){n(this,"success",!1);n(this,"data",null);n(this,"errors",[]);n(this,"exception",null);n(this,"extendedData",null);n(this,"messages",[]);n(this,"result",null);n(this,"status",null);n(this,"progressEvent",{progress:0})}}class E extends y{constructor(){super(...arguments);n(this,"data",[])}}class L extends E{constructor(){super(...arguments);n(this,"status",null);n(this,"total",0)}}const V=t=>t instanceof FormData?new FormData:t instanceof URLSearchParams?new URLSearchParams:J(t)?[]:O(t)?{}:t,m=(...t)=>{if(t.length<=0)return null;if(J(t[t.length-1]))return t[t.length-1];let e=V(t[t.length-1]);for(let s=0;s<t.length;s++){let a=t[s]||{};if(e instanceof FormData||e instanceof URLSearchParams||O(e)){if(a instanceof FormData)a.forEach((r,i)=>{e instanceof FormData||e instanceof URLSearchParams?e.append(i,r):e[i]=r});else if(a instanceof URLSearchParams)a.forEach((r,i)=>{e instanceof FormData||e instanceof URLSearchParams?e.append(i,r):e[i]=r});else if(O(a)){let r=Object.keys(a);if(e instanceof FormData||e instanceof URLSearchParams)r.forEach(i=>{e.append(i,a[i])});else{let i=JSON.parse(JSON.stringify(a));r.forEach(x=>{e[x]=i[x]})}}}}return e};class R{constructor(e,s,a={}){n(this,"controller",new AbortController);n(this,"instance");n(this,"options",{});n(this,"url","");n(this,"loading",!1);n(this,"data",{});n(this,"params",{});n(this,"response",new y);n(this,"defaultResponse",new y);n(this,"defaultRequestParams",{});n(this,"defaultRequestData",{});this.instance=e,this.url=s||this.url,this.options=a}abort(){this.controller.abort({success:!1,result:"请求操作已被用户取消！"})}initOptions(e={}){e.signal=this.controller.signal,e.onDownloadProgress&&(e._onDownloadProgress=e.onDownloadProgress,e.onDownloadProgress=s=>{this.data.progressEvent=s,e._onDownloadProgress(s)}),e.onUploadProgress&&(e._onUploadProgress=e.onUploadProgress,e.onUploadProgress=s=>{this.data.progressEvent=s,e._onUploadProgress(s)})}execute(e={}){return new Promise((s,a)=>{this.loading=!0,e=o({},this.options||{},e||{}),e.data=m(this.defaultRequestData,this.data,e.data),e.params=e.params=m(this.defaultRequestParams,this.params,e.params),e.url=e.url?e.url:this.url,this.initOptions(e),this.response=JSON.parse(JSON.stringify(this.defaultResponse)),this.instance.request(e).then(r=>{try{this.handleThenResponse(s,r)}finally{this.loading=!1}}).catch(r=>{try{this.handleCatchResponse(a,r)}finally{this.loading=!1}})})}toJsonRequest(){return o(this.options,{headers:{"Content-Type":h["application/json"]}}),this}toFormRequest(){return o(this.options,{headers:{"Content-Type":h["application/x-www-form-urlencoded"]}}),this}toFormDataRequest(){return o(this.options,{headers:{"Content-Type":h["multipart/form-data"]}}),this}setDefaultResponse(e={}){return this.defaultResponse=e,this.response=JSON.parse(JSON.stringify(this.defaultResponse)),this}mergeDefaultResponse(e={}){return o(this.defaultResponse,e||{},{}),this.response=JSON.parse(JSON.stringify(this.defaultResponse)),this}setDefaultRequestData(e={}){return this.defaultRequestData=e,this.data=JSON.parse(JSON.stringify(this.defaultRequestData)),this}mergeDefaultRequestData(e={}){return o(this.defaultRequestData,e||{}),this.data=JSON.parse(JSON.stringify(this.defaultRequestData)),this}setDefaultResultParams(e={}){return this.defaultRequestParams=e,this.params=JSON.parse(JSON.stringify(this.defaultRequestParams)),this}handleThenResponse(e,s){var r;this.response=o({},this.defaultResponse,s.data);let a=Object.keys(this.response);a.indexOf("total")>-1&&(this.data.total=this.response.total),a.indexOf("page")>-1&&(this.data.page=((r=this.response)==null?void 0:r.page)-(this.data.pageOffset||0)),a.indexOf("size")>-1&&(this.data.size=this.response.size),e(this.response)}handleCatchResponse(e,s){if(console.error("远程请求发生异常：",s),s.response)this.response=o({},this.defaultResponse,s.response.data),e(this.response);else{let a={success:!1,result:"远程请求发生异常！"};this.response=o({},this.defaultResponse,a),e(this.response)}}}class F extends R{constructor(e,s,a={}){super(e,s,a)}execute(e={},s={}){return this.loading=!0,s=o({},this.options||{},s||{}),s.params=m(this.defaultRequestParams,this.params,s.params,e),this.initOptions(s),this.response=JSON.parse(JSON.stringify(this.defaultResponse)),new Promise((a,r)=>{this.instance.get(s.url||this.url,s).then(i=>{try{this.handleThenResponse(a,i)}finally{this.loading=!1}}).catch(i=>{try{this.handleCatchResponse(r,i)}finally{this.loading=!1}})})}}class N extends R{constructor(e,s,a={}){super(e,s,a)}execute(e={},s={},a={}){this.loading=!0,a=o({},this.options||{},a||{});let r=m(this.defaultRequestData,this.data,a.data,e);return a.params=m(this.defaultRequestParams,this.params,a.params,s),this.initOptions(a),this.response=JSON.parse(JSON.stringify(this.defaultResponse)),new Promise((i,x)=>{this.instance.post(a.url||this.url,r,a).then(D=>{try{this.handleThenResponse(i,D),i(D.data)}finally{this.loading=!1}}).catch(D=>{try{this.handleCatchResponse(x,D)}finally{this.loading=!1}})})}}class A extends N{constructor(e,s,a={}){super(e,s,a),this.setDefaultResponse(new E),this.setDefaultRequestData(new T)}}class Q extends A{constructor(e,s,a={}){super(e,s,a),this.setDefaultResponse(new L),this.setDefaultRequestData(new j)}}const f=class extends v{constructor(e={}){super(e)}createRequestExecutor(e="",s={}){return c.reactive(new R(this.defaultAxiosInstance,e,s))}createGetExecutor(e="",s={}){let a=o({method:p.GET,headers:{"Content-Type":h["application/x-www-form-urlencoded"]}},s);return c.reactive(new F(this.defaultAxiosInstance,e,a))}createQueryExecutor(e="",s={}){let a=o({method:p.POST,headers:{"Content-Type":h["application/json"]}},s);return c.reactive(new A(this.defaultAxiosInstance,e,a))}createPageableQueryExecutor(e="",s={}){let a=o({method:p.POST,headers:{"Content-Type":h["application/json"]}},s);return c.reactive(new Q(this.defaultAxiosInstance,e,a))}createPostExecutor(e="",s={}){let a=o({method:p.POST,headers:{"Content-Type":h["multipart/form-data"]}},s);return c.reactive(new N(this.defaultAxiosInstance,e,a))}static getInstance(e){return this.instance?e&&console.error("实例已经存在，重获取实例时，配置选项将不会生效！"):this.instance=new f(e),this.instance}static post(){return{do(e,s={},a={},r={}){return f.getInstance().createPostExecutor(e,r).execute(s,a)},multipartFormData(e,s={},a={},r={}){return f.getInstance().createPostExecutor(e,r).toFormDataRequest().execute(s,a)},form(e,s={},a={},r={}){return f.getInstance().createPostExecutor(e,r).toFormRequest().execute(s,a)},json(e,s={},a={},r={}){return f.getInstance().createPostExecutor(e,r).toJsonRequest().execute(s,a)}}}static get(){return{do(e,s={},a={}){return f.getInstance().createGetExecutor(e,a).execute(s)}}}};let P=f;n(P,"instance"),l.Condition=B,l.DefaultPageableQueryRequestData=j,l.DefaultPageableQueryResponse=L,l.DefaultQueryRequestData=T,l.DefaultResponse=y,l.EConditionOpt=k,l.EOrderDirection=U,l.Executor=R,l.GetExecutor=F,l.HttpClient=P,l.HttpContentType=h,l.HttpMethod=p,l.Join=b,l.Order=g,l.PageableQueryExecutor=Q,l.PostExecutor=N,l.QueryExecutor=A,l.mergeDataOrParams=m,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.js.map
