(function(l,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("axios"),require("vue")):typeof define=="function"&&define.amd?define(["exports","axios","vue"],o):(l=typeof globalThis<"u"?globalThis:l||self,o(l.index={},l.Axios,l.Vue))})(this,function(l,o,u){"use strict";var z=Object.defineProperty;var K=(l,o,u)=>o in l?z(l,o,{enumerable:!0,configurable:!0,writable:!0,value:u}):l[o]=u;var n=(l,o,u)=>(K(l,typeof o!="symbol"?o+"":o,u),u);const N=Object.prototype.toString,S=(t=>e=>{let s=N.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),d=t=>(t=t.toLowerCase(),function(e){return S(e)===t}),A=t=>Array.isArray(t);d("ArrayBuffer");const Q=t=>t!=null&&typeof t=="object"&&Array.isArray(t)===!1,w=t=>{if(S(t)!=="object")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.prototype};d("Date"),d("File"),d("Blob"),d("FileList"),d("URLSearchParams");const G=(t,e)=>{if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),A(t))for(let s=0,a=t.length;s<a;s++)e.call(null,t[s],s,t);else for(let s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)},R=function(...t){let e=arguments[0],s=(a,r)=>{w(e[r])&&w(a)?e[r]=R(e[r],a):w(a)?e[r]=R({},a):A(a)?e[r]=a.slice():e[r]=a};for(let a=0,r=arguments.length;a<r;a++)G(arguments[a],s);return e},c=R,D=Q;class E{constructor(){n(this,"order",new P("id","asc"));n(this,"queryProperties",["id"])}}class U extends E{constructor(s=1,a=10,r=-1){super();n(this,"size",10);n(this,"page",1);n(this,"pageOffset",-1);this.page=s,this.size=a,this.pageOffset=r}setSize(s){this.size=s}setPage(s){this.page=s}setPageOffset(s){this.pageOffset=s}}class T{constructor(e,s,a){n(this,"property",null);n(this,"joinType",null);n(this,"on",null);this.property=e||this.property,this.joinType=s||this.joinType,this.on=a||this.on}of(e,s,a){return new T(e,s,a)}}class P{constructor(e,s){n(this,"property",null);n(this,"direction","asc");this.property=e,this.direction=s}of(e,s="asc"){return new P(e,s)}}class O{constructor(e,s,a){n(this,"property",null);n(this,"value",null);n(this,"opt","eq");n(this,"and",[]);n(this,"or",[]);this.property=e||this.property,this.value=s||this.value,this.opt=a||this.opt}addAnd(e){this.and.push(e)}addOr(e){this.or.push(e)}}var j=(t=>(t.Asc="asc",t.Desc="desc",t))(j||{}),L=(t=>(t.equals="equals",t.eq="eq",t.ge="ge",t.gt="gt",t.lt="lt",t.le="le",t.ne="ne",t.notlike="notlike",t.like="like",t["like:"]="like:",t[":like"]=":like",t[":like:"]=":like:",t.lk="like",t["lk:"]="like:",t[":lk"]=":like",t[":lk:"]=":like:",t.between="between",t.btw="btw",t.isnull="isnull",t.isnotnull="isnotnull",t.isempty="isempty",t.isnotempty="isnotempty",t.in="in",t.notin="notin",t))(L||{}),i=(t=>(t["application/atom+xml"]="application/atom+xml",t["application/json"]="application/json",t["application/x-www-form-urlencoded"]="application/x-www-form-urlencoded",t["application/xml"]="application/xml",t["multipart/form-data"]="multipart/form-data",t["text/html"]="text/html",t["text/plain"]="text/plain",t))(i||{}),p=(t=>(t.POST="POST",t.GET="GET",t.DELETE="DELETE",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.PUT="PUT",t.PATCH="PATCH",t.PURGE="PURGE",t.LINK="LINK",t.UNLINK="UNLINK",t))(p||{});class J{constructor(e={}){o.defaults=c(o.defaults||{},{headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":i["application/json"]}},e),console.debug("初始化全局配置..."),console.debug("全局配置初始化完成。")}createAxiosInstance(e){let s=o.create(e);return s.interceptors.response=o.interceptors.response,s.interceptors.request=o.interceptors.request,console.log("axios instance created"),s}}class m{constructor(){n(this,"success",!1);n(this,"data",null);n(this,"errors",[]);n(this,"exception",null);n(this,"extendedData",null);n(this,"messages",[]);n(this,"result",null);n(this,"status",null);n(this,"progressEvent",{progress:0})}}class k extends m{constructor(){super(...arguments);n(this,"status",null);n(this,"total",0);n(this,"progressEvent",{progress:0})}}const f=(t,e)=>{e=e||{},t=t||{};let s=e;if(e instanceof FormData?(e=e,s=new FormData,e.forEach((a,r)=>{s.append(r,a)})):e instanceof URLSearchParams?(e=e,s=new URLSearchParams,e.forEach((a,r)=>{s.append(r,a)})):D(e)&&(s=c(e,{})),s instanceof FormData||s instanceof URLSearchParams||D(s)){if(t instanceof FormData)t.forEach((a,r)=>{s instanceof FormData||s instanceof URLSearchParams?s.append(r,a):s[r]=a});else if(t instanceof URLSearchParams)t.forEach((a,r)=>{s instanceof FormData||s instanceof URLSearchParams?s.append(r,a):s[r]=a});else if(D(t)){let a=Object.keys(t);if(s instanceof FormData||s instanceof URLSearchParams)a.forEach(r=>{s.append(r,t[r])});else return c(s,t)}}return s};class y{constructor(e,s){n(this,"controller",new AbortController);n(this,"instance");n(this,"url","");n(this,"loading",!1);n(this,"response",new m);n(this,"data",{});n(this,"params",{});n(this,"defaultResponse",new m);this.instance=e,this.url=s||this.url}abort(){this.controller.abort({success:!1,result:"请求操作已被用户取消！"})}initOptions(e={}){e.signal=this.controller.signal,e.onDownloadProgress&&(e._onDownloadProgress=e.onDownloadProgress,e.onDownloadProgress=s=>{this.data.progressEvent=s,e._onDownloadProgress(s)}),e.onUploadProgress&&(e._onUploadProgress=e.onUploadProgress,e.onUploadProgress=s=>{this.data.progressEvent=s,e._onUploadProgress(s)})}execute(e={}){return new Promise((s,a)=>{console.log("Executor",this.data),console.log("Executor",this.response),this.loading=!0,e.data=f(this.data,e.data),e.params=f(this.params,e.params),e.url=e.url?e.url:this.url,this.initOptions(e),this.setDefaultResponse(this.defaultResponse),this.instance.request(e).then(r=>{try{this.handleThenResponse(s,r)}finally{this.loading=!1}}).catch(r=>{try{this.handleCatchResponse(a,r)}finally{this.loading=!1}})})}toJsonRequest(){return this.instance.defaults.headers["Content-Type"]=i["application/json"],this}toFormRequest(){return this.instance.defaults.headers["Content-Type"]=i["application/x-www-form-urlencoded"],this}toFormDataRequest(){return this.instance.defaults.headers["Content-Type"]=i["multipart/form-data"],this}setDefaultResponse(e=new m){return this.response=e,this.defaultResponse=JSON.parse(JSON.stringify(e)),this}setDefaultRequestData(e={}){return this.data=c(this.data,e),this}setDefaultResultParams(e={}){return this.params=c(this.params,e),this}handleThenResponse(e,s){console.log("PostExecutor",this.data),console.log("PostExecutor",this.response),this.response=s.data,e(s.data)}handleCatchResponse(e,s){if(console.error("远程请求发生异常：",s),s.response)this.response=s.response.data,e(s.response.data);else{let a={success:!1,result:"远程请求发生异常！",data:null};this.response=a,e(a)}}}class F extends y{constructor(e,s){super(e,s)}execute(e={},s={}){return this.loading=!0,s.params=f(this.params,f(s.params,e)),this.initOptions(s),this.setDefaultResponse(this.defaultResponse),new Promise((a,r)=>{this.instance.get(s.url||this.url,s).then(g=>{try{this.handleThenResponse(a,g)}finally{this.loading=!1}}).catch(g=>{try{this.handleCatchResponse(r,g)}finally{this.loading=!1}})})}}class b extends y{constructor(e,s){super(e,s)}execute(e={},s={},a={}){return this.loading=!1,e=c(JSON.parse(JSON.stringify(this.data)),a.data,e),console.log("st PostExecutor",e),console.log("st PostExecutor",this.data),a.params=f(this.params,f(a.params,s)),this.initOptions(a),this.setDefaultResponse(this.defaultResponse),new Promise((r,g)=>{this.instance.post(a.url||this.url,e,a).then(I=>{try{console.log("PostExecutor",this.data),console.log("PostExecutor",this.response),this.handleThenResponse(r,I)}finally{this.loading=!1}}).catch(I=>{try{this.handleCatchResponse(g,I)}finally{this.loading=!1}})})}handleThenResponse(e,s){console.log("PostExecutor",this.data),console.log("PostExecutor",this.response),this.response=s.data,e(s.data)}}class q extends b{constructor(e,s){super(e,s),this.setDefaultResponse(new m)}}class v extends q{constructor(e,s){super(e,s),this.setDefaultResponse(new k)}}const h=class extends J{constructor(e={}){super(e)}createRequestExecutor(e="",s={}){let a=this.createAxiosInstance(s);return u.reactive(new y(a,e))}createGetExecutor(e="",s={}){let a=c({method:p.GET,data:null,params:null,headers:{"Content-Type":i["application/x-www-form-urlencoded"]}},s),r=this.createAxiosInstance(a);return u.reactive(new F(r,e))}createQueryExecutor(e="",s={}){let a=c({method:p.GET,data:null,params:null,headers:{"Content-Type":i["application/x-www-form-urlencoded"]}},s),r=this.createAxiosInstance(a);return u.reactive(new q(r,e).setDefaultResponse({data:[]}).setDefaultRequestData(new E))}createPageableQueryExecutor(e="",s={}){let a=c({method:p.GET,data:null,params:null,headers:{"Content-Type":i["application/x-www-form-urlencoded"]}},s),r=this.createAxiosInstance(a);return u.reactive(new v(r,e).setDefaultResponse({data:[]}).setDefaultRequestData(new U))}createPostExecutor(e="",s={}){let a=c({method:p.POST,data:null,params:null,headers:{"Content-Type":i["multipart/form-data"]}},s),r=this.createAxiosInstance(a);return u.reactive(new b(r,e))}static getInstance(e){return this.instance?e&&console.error("实例已经存在，重获取实例时，配置选项将不会生效！"):this.instance=new h(e),this.instance}static post(){return{do(e,s={},a={},r={}){return h.getInstance().createPostExecutor(e,r).execute(s,a,r)},multipartFormData(e,s={},a={},r={}){return h.getInstance().createPostExecutor(e,r).toFormDataRequest().execute(s,a,r)},form(e,s={},a={},r={}){return h.getInstance().createPostExecutor(e,r).toFormRequest().execute(s,a,r)},json(e,s={},a={},r={}){return h.getInstance().createPostExecutor(e,r).toJsonRequest().execute(s,a,r)}}}static get(){return{do(e,s={},a={}){return h.getInstance().createGetExecutor(e,a).execute(s,a)}}}};let x=h;n(x,"instance"),l.Condition=O,l.DefaultPageableQueryRequestData=U,l.DefaultPageableQueryResponse=k,l.DefaultQueryRequestData=E,l.DefaultResponse=m,l.EConditionOpt=L,l.EOrderDirection=j,l.Executor=y,l.GetExecutor=F,l.HttpClient=x,l.HttpContentType=i,l.HttpMethod=p,l.Join=T,l.Order=P,l.PageableQueryExecutor=v,l.PostExecutor=b,l.QueryExecutor=q,l.mergeDataOrParams=f,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.js.map
