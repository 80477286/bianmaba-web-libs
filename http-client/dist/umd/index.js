(function(l,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("axios"),require("vue")):typeof define=="function"&&define.amd?define(["exports","axios","vue"],u):(l=typeof globalThis<"u"?globalThis:l||self,u(l.index={},l.Axios,l.Vue))})(this,function(l,u,c){"use strict";var K=Object.defineProperty;var J=(l,u,c)=>u in l?K(l,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):l[u]=c;var r=(l,u,c)=>(J(l,typeof u!="symbol"?u+"":u,c),c);const E=Object.prototype.toString,k=(s=>e=>{let t=E.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),p=s=>(s=s.toLowerCase(),function(e){return k(e)===s}),A=s=>Array.isArray(s);p("ArrayBuffer");const P=s=>{if(k(s)!=="object")return!1;let e=Object.getPrototypeOf(s);return e===null||e===Object.prototype};p("Date"),p("File"),p("Blob"),p("FileList"),p("URLSearchParams");const U=(s,e)=>{if(!(s===null||typeof s>"u"))if(typeof s!="object"&&(s=[s]),A(s))for(let t=0,a=s.length;t<a;t++)e.call(null,s[t],t,s);else for(let t in s)Object.prototype.hasOwnProperty.call(s,t)&&e.call(null,s[t],t,s)},q=function(...s){let e=arguments[0],t=(a,n)=>{P(e[n])&&P(a)?e[n]=q(e[n],a):P(a)?e[n]=q({},a):A(a)?e[n]=a.slice():e[n]=a};for(let a=0,n=arguments.length;a<n;a++)U(arguments[a],t);return e},o=q;class T{constructor(){r(this,"query",null);r(this,"order",null);r(this,"condition",{any:[],or:[]});r(this,"sorts",[]);r(this,"queryProperties",[]);r(this,"idProperty",null);r(this,"excludeIds",[]);r(this,"joins",[]);r(this,"fetches",[])}setQuery(e){return this.query=e,this}setOrder(e){return this.order=e,this}setCondition(e){return this.condition=e,this}setSorts(e){return this.sorts=e,this}setQueryProperties(e){return this.queryProperties=e,this}setIdProperty(e){return this.idProperty=e,this}setExcludeIds(e){return this.excludeIds=e,this}setFetches(e){return this.fetches=e,this}setJoins(e){return this.joins=e,this}addFetch(e,t,a){return e instanceof d?this.fetches.push(e):this.fetches.push(new d(e,t,a))}addJoin(e,t,a){return e instanceof d?this.joins.push(e):this.joins.push(new d(e,t,a))}}class F extends T{constructor(t=1,a=10,n=-1){super();r(this,"size",10);r(this,"page",1);r(this,"pageOffset",-1);this.page=t,this.size=a,this.pageOffset=n}setSize(t){this.size=t}setPage(t){this.page=t}setPageOffset(t){this.pageOffset=t}}class d{constructor(e,t,a){r(this,"property",null);r(this,"joinType",null);r(this,"on",null);this.property=e||this.property,this.joinType=t||this.joinType,this.on=a||this.on}of(e,t,a){return new d(e,t,a)}}class D{constructor(e,t){r(this,"property",null);r(this,"direction","asc");this.property=e,this.direction=t}of(e,t="asc"){return new D(e,t)}}class N{constructor(e,t,a){r(this,"property",null);r(this,"value",null);r(this,"opt","eq");r(this,"and",[]);r(this,"or",[]);this.property=e||this.property,this.value=t||this.value,this.opt=a||this.opt}addAnd(e){this.and.push(e)}addOr(e){this.or.push(e)}}var Q=(s=>(s.Asc="asc",s.Desc="desc",s))(Q||{}),G=(s=>(s.equals="equals",s.eq="eq",s.ge="ge",s.gt="gt",s.lt="lt",s.le="le",s.ne="ne",s.notlike="notlike",s.like="like",s["like:"]="like:",s[":like"]=":like",s[":like:"]=":like:",s.lk="like",s["lk:"]="like:",s[":lk"]=":like",s[":lk:"]=":like:",s.between="between",s.btw="btw",s.isnull="isnull",s.isnotnull="isnotnull",s.isempty="isempty",s.isnotempty="isnotempty",s.in="in",s.notin="notin",s))(G||{}),h=(s=>(s["application/atom+xml"]="application/atom+xml",s["application/json"]="application/json",s["application/x-www-form-urlencoded"]="application/x-www-form-urlencoded",s["application/xml"]="application/xml",s["multipart/form-data"]="multipart/form-data",s["text/html"]="text/html",s["text/plain"]="text/plain",s))(h||{}),f=(s=>(s.POST="POST",s.GET="GET",s.DELETE="DELETE",s.HEAD="HEAD",s.OPTIONS="OPTIONS",s.PUT="PUT",s.PATCH="PATCH",s.PURGE="PURGE",s.LINK="LINK",s.UNLINK="UNLINK",s))(f||{});class H{constructor(){r(this,"method",f.POST);r(this,"headers",{"Content-Type":h["application/json"]});r(this,"xRequestedWith","XMLHttpRequest")}}const b=new H,i=class{constructor(e=b){i.default=o(i.default||{},e),console.debug("初始化全局配置..."),u.defaults.baseURL=i.default.baseUrl,u.defaults.method=i.default.method,u.defaults.headers.common["X-Requested-With"]=i.default.xRequestedWith,u.interceptors.request.use(i.default.requestSuccessHandler||this.defaultRequestSuccessHandler,i.default.requestFailHandler||this.defaultRequestFailHandler),u.interceptors.response.use(i.default.responseSuccessHandler||this.defaultResponseSuccessHandler,i.default.responseFailHandler||this.defaultResponseFailHandler),console.debug("全局配置初始化完成。")}defaultRequestSuccessHandler(e){return e}defaultRequestFailHandler(e){return console.error("远程请求出现错误!"),Promise.reject(e)}defaultResponseSuccessHandler(e){return e}defaultResponseFailHandler(e){var t,a;return console.log(((a=(t=e.response)==null?void 0:t.data)==null?void 0:a.result)||"远程请求出现错误(code="+e.response.status+")"),Promise.reject(e)}createAxiosInstance(e){let t=u.create(e);return console.log("axios instance created"),t.interceptors.request.use(i.default.requestSuccessHandler,i.default.requestFailHandler),t.interceptors.response.use(i.default.responseSuccessHandler,i.default.responseFailHandler),t}};let y=i;r(y,"default",b);class m{constructor(){r(this,"success",!1);r(this,"data",null);r(this,"errors",[]);r(this,"exception",null);r(this,"extendedData",null);r(this,"messages",[]);r(this,"result",null);r(this,"status",null)}}class L extends m{constructor(){super(...arguments);r(this,"status",null);r(this,"total",0)}}class w{constructor(e,t){r(this,"instance");r(this,"url","");r(this,"loading",!1);r(this,"response",new m);r(this,"data",{});r(this,"params",{});r(this,"defaultResponse",new m);this.instance=e,this.url=t||this.url}execute(e={}){return new Promise((t,a)=>{this.loading=!0,this.data=o(this.data||{},e.data||{}),this.params=o(this.params||{},e.params||{}),e.url=e.url?e.url:this.url,this.instance.request(e).then(n=>{try{this.handleThenResponse(t,n)}finally{this.loading=!1}}).catch(n=>{try{this.handleCatchResponse(a,n)}finally{this.loading=!1}})})}toAjaxRequest(){return this.instance.defaults.headers["Content-Type"]=h["application/json"],this}toFormRequest(){return this.instance.defaults.headers["Content-Type"]=h["application/x-www-form-urlencoded"],this}toFormDataRequest(){return this.instance.defaults.headers["Content-Type"]=h["multipart/form-data"],this}setDefaultResponse(e=new m){return this.response=e,this.defaultResponse=o(this.response,{}),this}setDefaultRequestData(e={}){return this.data=e,this}setDefaultResultParams(e={}){return this.params=e,this}handleThenResponse(e,t){this.response=t.data,e(t.data)}handleCatchResponse(e,t){if(console.error("远程请求发生异常：",t),t.response)this.response=t.response.data,e(t.response.data);else{let a={success:!1,result:"远程请求发生异常！",data:null};this.response=a,e(a)}}}class v extends w{constructor(e,t){super(e,t)}execute(e={},t={}){return this.loading=!0,this.params=o(this.params||{},t.params||{},e||{}),t.params=this.params,new Promise((a,n)=>{this.instance.get(t.url||this.url,t).then(R=>{try{this.handleThenResponse(a,R)}finally{this.loading=!1}}).catch(R=>{try{this.handleCatchResponse(n,R)}finally{this.loading=!1}})})}}class j extends w{constructor(e,t){super(e,t)}execute(e={},t={},a={}){return this.loading=!0,this.data=o(this.data||{},a.data||{},e||{}),this.params=o(this.params||{},a.params||{},t||{}),a.params=this.params,new Promise((n,R)=>{this.instance.post(a.url||this.url,this.data,a).then(S=>{try{this.handleThenResponse(n,S)}finally{this.loading=!1}}).catch(S=>{try{this.handleCatchResponse(R,S)}finally{this.loading=!1}})})}}class g extends j{constructor(e,t){super(e,t),this.setDefaultResponse(new m)}}const I=class extends y{constructor(e=b){super(e)}createRequestExecutor(e="",t={}){let a=this.createAxiosInstance(t);return c.reactive(new w(a,e))}createGetExecutor(e="",t={}){let a=o({method:f.GET,data:null,params:null,headers:{"Content-Type":h["application/x-www-form-urlencoded"]}},t),n=this.createAxiosInstance(a);return c.reactive(new v(n,e))}createQueryExecutor(e="",t={}){let a=o({method:f.GET,data:null,params:null,headers:{"Content-Type":h["application/x-www-form-urlencoded"]}},t),n=this.createAxiosInstance(a);return c.reactive(new g(n,e).setDefaultResponse({data:[]}).setDefaultRequestData(new T))}createPageableQueryExecutor(e="",t={}){let a=o({method:f.GET,data:null,params:null,headers:{"Content-Type":h["application/x-www-form-urlencoded"]}},t),n=this.createAxiosInstance(a);return c.reactive(new g(n,e).setDefaultResponse({data:[]}).setDefaultRequestData(new F))}createPostExecutor(e="",t={}){let a=o({method:f.POST,data:null,params:null,headers:{"Content-Type":h["multipart/form-data"]}},t),n=this.createAxiosInstance(a);return c.reactive(new j(n,e))}static getInstance(e){return this.instance?e&&console.error("实例已经存在，重获取实例时，配置选项将不会生效！"):this.instance=new I(e),this.instance}};let x=I;r(x,"instance");class z extends g{constructor(e,t){super(e,t),this.setDefaultResponse(new L)}}l.AbstractHttpClient=y,l.Condition=N,l.DefaultPageableQueryResponse=L,l.DefaultResponse=m,l.EConditionOpt=G,l.EOrderDirection=Q,l.Executor=w,l.GetExecutor=v,l.HttpClient=x,l.HttpContentType=h,l.HttpMethod=f,l.Join=d,l.Order=D,l.PageableQueryExecutor=z,l.PageableQueryRequestData=F,l.PostExecutor=j,l.QueryExecutor=g,l.QueryRequestData=T,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
