(function(n,u){typeof exports=="object"&&typeof module<"u"?u(exports,require("axios"),require("vue")):typeof define=="function"&&define.amd?define(["exports","axios","vue"],u):(n=typeof globalThis<"u"?globalThis:n||self,u(n.index={},n.Axios,n.Vue))})(this,function(n,u,c){"use strict";var J=Object.defineProperty;var O=(n,u,c)=>u in n?J(n,u,{enumerable:!0,configurable:!0,writable:!0,value:c}):n[u]=c;var l=(n,u,c)=>(O(n,typeof u!="symbol"?u+"":u,c),c);const L=Object.prototype.toString,k=(s=>e=>{let t=L.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),d=s=>(s=s.toLowerCase(),function(e){return k(e)===s}),x=s=>Array.isArray(s);d("ArrayBuffer");const S=s=>s!=null&&typeof s=="object"&&Array.isArray(s)===!1,R=s=>{if(k(s)!=="object")return!1;let e=Object.getPrototypeOf(s);return e===null||e===Object.prototype};d("Date"),d("File"),d("Blob"),d("FileList"),d("URLSearchParams");const N=(s,e)=>{if(!(s===null||typeof s>"u"))if(typeof s!="object"&&(s=[s]),x(s))for(let t=0,a=s.length;t<a;t++)e.call(null,s[t],t,s);else for(let t in s)Object.prototype.hasOwnProperty.call(s,t)&&e.call(null,s[t],t,s)},P=function(...s){let e=arguments[0],t=(a,r)=>{R(e[r])&&R(a)?e[r]=P(e[r],a):R(a)?e[r]=P({},a):x(a)?e[r]=a.slice():e[r]=a};for(let a=0,r=arguments.length;a<r;a++)N(arguments[a],t);return e},i=P,D=S,F=x;class T{constructor(){l(this,"order",new g("id","asc"));l(this,"queryProperties",["id"])}}class j extends T{constructor(t=1,a=10,r=-1){super();l(this,"size",10);l(this,"page",1);l(this,"pageOffset",-1);this.page=t,this.size=a,this.pageOffset=r}setSize(t){this.size=t}setPage(t){this.page=t}setPageOffset(t){this.pageOffset=t}}class b{constructor(e,t,a){l(this,"property",null);l(this,"joinType",null);l(this,"on",null);this.property=e||this.property,this.joinType=t||this.joinType,this.on=a||this.on}of(e,t,a){return new b(e,t,a)}}class g{constructor(e,t){l(this,"property",null);l(this,"direction","asc");this.property=e,this.direction=t}of(e,t="asc"){return new g(e,t)}}class z{constructor(e,t,a){l(this,"property",null);l(this,"value",null);l(this,"opt","eq");l(this,"and",[]);l(this,"or",[]);this.property=e||this.property,this.value=t||this.value,this.opt=a||this.opt}addAnd(e){this.and.push(e)}addOr(e){this.or.push(e)}}var v=(s=>(s.Asc="asc",s.Desc="desc",s))(v||{}),E=(s=>(s.equals="equals",s.eq="eq",s.ge="ge",s.gt="gt",s.lt="lt",s.le="le",s.ne="ne",s.notlike="notlike",s.like="like",s["like:"]="like:",s[":like"]=":like",s[":like:"]=":like:",s.lk="like",s["lk:"]="like:",s[":lk"]=":like",s[":lk:"]=":like:",s.between="between",s.btw="btw",s.isnull="isnull",s.isnotnull="isnotnull",s.isempty="isempty",s.isnotempty="isnotempty",s.in="in",s.notin="notin",s))(E||{}),o=(s=>(s["application/atom+xml"]="application/atom+xml",s["application/json"]="application/json",s["application/x-www-form-urlencoded"]="application/x-www-form-urlencoded",s["application/xml"]="application/xml",s["multipart/form-data"]="multipart/form-data",s["text/html"]="text/html",s["text/plain"]="text/plain",s))(o||{}),f=(s=>(s.POST="POST",s.GET="GET",s.DELETE="DELETE",s.HEAD="HEAD",s.OPTIONS="OPTIONS",s.PUT="PUT",s.PATCH="PATCH",s.PURGE="PURGE",s.LINK="LINK",s.UNLINK="UNLINK",s))(f||{});class K{constructor(e={}){u.defaults=i(u.defaults||{},{headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":o["application/json"]}},e),console.debug("初始化全局配置..."),console.debug("全局配置初始化完成。")}createAxiosInstance(e){let t=u.create(e);return t.interceptors.response=u.interceptors.response,t.interceptors.request=u.interceptors.request,console.log("axios instance created"),t}}class p{constructor(){l(this,"success",!1);l(this,"data",null);l(this,"errors",[]);l(this,"exception",null);l(this,"extendedData",null);l(this,"messages",[]);l(this,"result",null);l(this,"status",null);l(this,"progressEvent",{progress:0})}}class Q extends p{constructor(){super(...arguments);l(this,"status",null);l(this,"total",0);l(this,"progressEvent",{progress:0})}}class y{constructor(e,t){l(this,"controller",new AbortController);l(this,"instance");l(this,"url","");l(this,"loading",!1);l(this,"response",new p);l(this,"data",{});l(this,"params",{});l(this,"defaultResponse",new p);this.instance=e,this.url=t||this.url}abort(){this.controller.abort({success:!1,result:"请求操作已被用户取消！"})}initOptions(e={}){e.signal=this.controller.signal,e.onDownloadProgress&&(e._onDownloadProgress=e.onDownloadProgress,e.onDownloadProgress=t=>{this.data.progressEvent=t,e._onDownloadProgress(t)}),e.onUploadProgress&&(e._onUploadProgress=e.onUploadProgress,e.onUploadProgress=t=>{this.data.progressEvent=t,e._onUploadProgress(t)})}execute(e={}){return new Promise((t,a)=>{this.loading=!0,D(e.data)?this.data=i(this.data||{},e.data||{}):this.data=e.data,this.params=i(this.params||{},e.params||{}),e.url=e.url?e.url:this.url,this.initOptions(e),this.setDefaultResponse(this.defaultResponse),this.instance.request(e).then(r=>{try{this.handleThenResponse(t,r)}finally{this.loading=!1}}).catch(r=>{try{this.handleCatchResponse(a,r)}finally{this.loading=!1}})})}toJsonRequest(){return this.instance.defaults.headers["Content-Type"]=o["application/json"],this}toFormRequest(){return this.instance.defaults.headers["Content-Type"]=o["application/x-www-form-urlencoded"],this}toFormDataRequest(){return this.instance.defaults.headers["Content-Type"]=o["multipart/form-data"],this}setDefaultResponse(e=new p){return this.response=e,this.defaultResponse=i(e,{}),this}setDefaultRequestData(e={}){return this.data=i(this.data,e),this}setDefaultResultParams(e={}){return this.params=i(this.params,e),this}handleThenResponse(e,t){for(let a in this.defaultResponse)D(this.defaultResponse.data)?(t.data[a]==null||t.data[a]==null)&&(t.data[a]=this.defaultResponse.data[a]):F(this.defaultResponse.data)&&(t.data==null||t.data==null)&&(t.data=this.defaultResponse.data);this.response=t.data,e(t.data)}handleCatchResponse(e,t){if(console.error("远程请求发生异常：",t),t.response)this.response=t.response.data,e(t.response.data);else{let a={success:!1,result:"远程请求发生异常！",data:null};this.response=a,e(a)}}}class U extends y{constructor(e,t){super(e,t)}execute(e={},t={}){return this.loading=!0,this.params=i(this.params||{},t.params||{},e||{}),t.params=this.params,this.initOptions(t),this.setDefaultResponse(this.defaultResponse),new Promise((a,r)=>{this.instance.get(t.url||this.url,t).then(m=>{try{this.handleThenResponse(a,m)}finally{this.loading=!1}}).catch(m=>{try{this.handleCatchResponse(r,m)}finally{this.loading=!1}})})}}class q extends y{constructor(e,t){super(e,t)}execute(e={},t={},a={}){return this.loading=!0,D(e)?this.data=i(this.data||{},a.data||{},e||{}):this.data=e,this.params=i(this.params||{},a.params||{},t||{}),a.params=this.params,this.initOptions(a),this.setDefaultResponse(this.defaultResponse),new Promise((r,m)=>{this.instance.post(a.url||this.url,this.data,a).then(A=>{try{this.handleThenResponse(r,A)}finally{this.loading=!1}}).catch(A=>{try{this.handleCatchResponse(m,A)}finally{this.loading=!1}})})}}class I extends q{constructor(e,t){super(e,t),this.setDefaultResponse(new p)}}class G extends I{constructor(e,t){super(e,t),this.setDefaultResponse(new Q)}}const h=class extends K{constructor(e={}){super(e)}createRequestExecutor(e="",t={}){let a=this.createAxiosInstance(t);return c.reactive(new y(a,e))}createGetExecutor(e="",t={}){let a=i({method:f.GET,data:null,params:null,headers:{"Content-Type":o["application/x-www-form-urlencoded"]}},t),r=this.createAxiosInstance(a);return c.reactive(new U(r,e))}createQueryExecutor(e="",t={}){let a=i({method:f.GET,data:null,params:null,headers:{"Content-Type":o["application/x-www-form-urlencoded"]}},t),r=this.createAxiosInstance(a);return c.reactive(new I(r,e).setDefaultResponse({data:[]}).setDefaultRequestData(new T))}createPageableQueryExecutor(e="",t={}){let a=i({method:f.GET,data:null,params:null,headers:{"Content-Type":o["application/x-www-form-urlencoded"]}},t),r=this.createAxiosInstance(a);return c.reactive(new G(r,e).setDefaultResponse({data:[]}).setDefaultRequestData(new j))}createPostExecutor(e="",t={}){let a=i({method:f.POST,data:null,params:null,headers:{"Content-Type":o["multipart/form-data"]}},t),r=this.createAxiosInstance(a);return c.reactive(new q(r,e))}static getInstance(e){return this.instance?e&&console.error("实例已经存在，重获取实例时，配置选项将不会生效！"):this.instance=new h(e),this.instance}static post(){return{do(e,t={},a={},r={}){return h.getInstance().createPostExecutor(e,r).execute(t,a,r)},multipartFormData(e,t={},a={},r={}){return h.getInstance().createPostExecutor(e,r).toFormDataRequest().execute(t,a,r)},form(e,t={},a={},r={}){return h.getInstance().createPostExecutor(e,r).toFormRequest().execute(t,a,r)},json(e,t={},a={},r={}){return h.getInstance().createPostExecutor(e,r).toJsonRequest().execute(t,a,r)}}}static get(){return{do(e,t={},a={}){return h.getInstance().createGetExecutor(e,a).execute(t,a)}}}};let w=h;l(w,"instance"),n.Condition=z,n.DefaultPageableQueryRequestData=j,n.DefaultPageableQueryResponse=Q,n.DefaultQueryRequestData=T,n.DefaultResponse=p,n.EConditionOpt=E,n.EOrderDirection=v,n.Executor=y,n.GetExecutor=U,n.HttpClient=w,n.HttpContentType=o,n.HttpMethod=f,n.Join=b,n.Order=g,n.PageableQueryExecutor=G,n.PostExecutor=q,n.QueryExecutor=I,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
